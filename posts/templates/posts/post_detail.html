{% extends 'base.html' %}
{% block content %}
<h1 class="posttitle loader">{{post.title}}</h1> <!-- The name is post for this because this is the default name it is basically the name of the model with
first letter in lower case. So the model is called Post in our models.py file --> 
<p>Created by: <a href="{% url 'posts:for_user' username=post.author.username %}">{{post.author}}</a></p> 
<p>{{post.created_date}}</p>
{% if post.image %}
<img src = "{{post.image.url}}" class = "img-fluid" height=300 width=500 alt='No Image Uploaded'>
{% else %}
<p>No file uploaded</p>
{% endif %}
<p class="postcontent">{{post.body|safe|linebreaksbr}}</p>
<!-- Add like button -->
{% if user.is_authenticated and post.author == user %}
<a href="{% url 'posts:post_delete' pk=post.pk %}" class="btn btn-danger">Delete Post</a>
<a href="{% url 'posts:post_update' pk=post.pk %}" class="btn btn-warning">Edit Post</a>

{% endif %}
<div class="container">
<h2>Comments</h2>
{% if user.is_authenticated %}
	<a href="{% url 'posts:add_comment' pk=post.pk %}" class='btn btn-primary' > Add Comment</a>
{% endif %}
{% for comment in post.comments.all %} <!-- This is from the related name 'comments' that we get from the post models.py. We use the related name comments
to ink the post model to the comments model. --> 
<br />
	{{comment.body|safe|linebreaksbr}}
	<br/>
	{{comment.author}}
	{{comment.created_date}}
{% endfor %}
</div>	
{% endblock %}